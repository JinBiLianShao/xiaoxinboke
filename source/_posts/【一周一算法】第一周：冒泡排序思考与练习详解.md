title: ã€ä¸€å‘¨ä¸€ç®—æ³•ã€‘ç¬¬ä¸€å‘¨ï¼šå†’æ³¡æ’åºæ€è€ƒä¸ç»ƒä¹ è¯¦è§£
author: è¿æ€é‘«
tags:
  - ç®—æ³•è§£ç­”
  - å†’æ³¡ç®—æ³•
  - C++
categories:
  - ä¸€å‘¨ä¸€ç®—æ³•
date: 2025-10-18 20:37:00
---
# å†’æ³¡æ’åºæ€è€ƒä¸ç»ƒä¹ è¯¦è§£

## ğŸ§  æ€è€ƒé¢˜è§£ç­”

### 1. å¦‚æœè¦å¯¹ 10000 ä¸ªå…ƒç´ æ’åºï¼Œå†’æ³¡æ’åºå¤§çº¦éœ€è¦æ¯”è¾ƒå¤šå°‘æ¬¡ï¼Ÿ

**è§£ç­”ï¼š**

æ ¹æ®å†’æ³¡æ’åºçš„æ•°å­¦åŸç†ï¼Œæœ€åæƒ…å†µä¸‹ï¼ˆå®Œå…¨é€†åºï¼‰çš„æ¯”è¾ƒæ¬¡æ•°ä¸ºï¼š

$$
\frac{n(n-1)}{2} = \frac{10000 \times 9999}{2} = 49,995,000 \text{ æ¬¡}
$$

è¿™å¤§çº¦æ˜¯ **5000ä¸‡æ¬¡æ¯”è¾ƒ**ï¼

**å®é™…æ¼”ç¤ºï¼š**

```cpp
#include <iostream>

int main() {
    int n = 10000;
    long long comparisons = (long long)n * (n - 1) / 2;
    std::cout << "10000ä¸ªå…ƒç´ å†’æ³¡æ’åºæœ€å¤šéœ€è¦æ¯”è¾ƒ: " 
              << comparisons << " æ¬¡" << std::endl;
    
    // æ¢ç®—æˆæ›´ç›´è§‚çš„å•ä½
    std::cout << "çº¦ç­‰äº: " << comparisons / 1000000 << " ç™¾ä¸‡æ¬¡æ¯”è¾ƒ" << std::endl;
    
    return 0;
}
```

è¾“å‡ºï¼š
```
10000ä¸ªå…ƒç´ å†’æ³¡æ’åºæœ€å¤šéœ€è¦æ¯”è¾ƒ: 49995000 æ¬¡
çº¦ç­‰äº: 49 ç™¾ä¸‡æ¬¡æ¯”è¾ƒ
```

**æ€§èƒ½åˆ†æï¼š**
- ç°ä»£CPUæ¯ç§’å¯æ‰§è¡Œçº¦10äº¿æ¬¡æ“ä½œ
- å³ä½¿æ¯æ¬¡æ¯”è¾ƒ+äº¤æ¢åªéœ€10ä¸ªCPUå‘¨æœŸï¼Œä¹Ÿéœ€è¦çº¦0.5ç§’
- å¯¹äºå¤§è§„æ¨¡æ•°æ®ï¼Œ$O(n^2)$ ç®—æ³•å˜å¾—ä¸å®ç”¨

**å¯ç¤ºï¼š** è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å­¦ä¹ æ›´é«˜æ•ˆçš„æ’åºç®—æ³•ï¼ˆå¦‚å¿«é€Ÿæ’åºã€å½’å¹¶æ’åºï¼‰ï¼

---

### 2. è‹¥æ•°ç»„åˆå§‹çŠ¶æ€æ¥è¿‘æœ‰åºï¼Œå†’æ³¡æ’åºæ˜¯å¦ä»ç„¶é€‚åˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ

**è§£ç­”ï¼š**

**æ˜¯çš„ï¼Œéå¸¸åˆé€‚ï¼** è¿™æ˜¯å†’æ³¡æ’åºçš„ä¸€ä¸ª**æ˜¾è‘—ä¼˜åŠ¿**ã€‚

**åŸå› åˆ†æï¼š**

1. **ä¼˜åŒ–æœºåˆ¶å‘æŒ¥ä½œç”¨**ï¼š
   - å½“æ•°ç»„æ¥è¿‘æœ‰åºæ—¶ï¼Œäº¤æ¢æ¬¡æ•°å¤§å¹…å‡å°‘
   - æå‰é€€å‡ºæœºåˆ¶ï¼ˆ`swapped`æ ‡å¿—ï¼‰ä¼šå¾ˆå¿«ç»ˆæ­¢æ’åº

2. **æ—¶é—´å¤æ‚åº¦æ”¹å–„**ï¼š
   - æœ€å¥½æƒ…å†µï¼š$O(n)$ï¼ˆä¸€è¶Ÿæ‰«æå³å®Œæˆï¼‰
   - æ¥è¿‘æœ‰åºæ—¶ï¼šæ¥è¿‘ $O(n)$

**å®éªŒéªŒè¯ï¼š**

```cpp
#include <iostream>
#include <vector>
#include <chrono>

void bubbleSort(std::vector<int>& arr) {
    size_t n = arr.size();
    bool swapped;
    int comparisons = 0; // è®°å½•æ¯”è¾ƒæ¬¡æ•°
    
    for (size_t i = 0; i < n - 1; ++i) {
        swapped = false;
        for (size_t j = 0; j < n - i - 1; ++j) {
            comparisons++;
            if (arr[j] > arr[j + 1]) {
                std::swap(arr[j], arr[j + 1]);
                swapped = true;
            }
        }
        if (!swapped) break;
    }
    std::cout << "å®é™…æ¯”è¾ƒæ¬¡æ•°: " << comparisons << std::endl;
}

int main() {
    // æµ‹è¯•ç”¨ä¾‹1ï¼šå®Œå…¨æœ‰åº
    std::vector<int> sorted = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
    std::cout << "å®Œå…¨æœ‰åºæ•°ç»„:" << std::endl;
    bubbleSort(sorted);
    
    // æµ‹è¯•ç”¨ä¾‹2ï¼šæ¥è¿‘æœ‰åºï¼ˆåªæœ‰ä¸€å¯¹å…ƒç´ ä¹±åºï¼‰
    std::vector<int> nearlySorted = {1, 2, 3, 4, 6, 5, 7, 8, 9, 10};
    std::cout << "\næ¥è¿‘æœ‰åºæ•°ç»„:" << std::endl;
    bubbleSort(nearlySorted);
    
    // æµ‹è¯•ç”¨ä¾‹3ï¼šå®Œå…¨ä¹±åº
    std::vector<int> random = {5, 2, 8, 1, 9, 3, 7, 4, 6, 10};
    std::cout << "\nå®Œå…¨ä¹±åºæ•°ç»„:" << std::endl;
    bubbleSort(random);
    
    return 0;
}
```

**é¢„æœŸè¾“å‡ºï¼š**
```
å®Œå…¨æœ‰åºæ•°ç»„:
å®é™…æ¯”è¾ƒæ¬¡æ•°: 9

æ¥è¿‘æœ‰åºæ•°ç»„:
å®é™…æ¯”è¾ƒæ¬¡æ•°: 14

å®Œå…¨ä¹±åºæ•°ç»„:
å®é™…æ¯”è¾ƒæ¬¡æ•°: 45
```

**åº”ç”¨åœºæ™¯ï¼š**
- å®æ—¶æ•°æ®æµä¸­å¶å°”å‡ºç°ä¹±åºçš„æƒ…å†µ
- ç»´æŠ¤å‡ ä¹æœ‰åºçš„ç¼“å­˜æ•°æ®
- å°è§„æ¨¡æ•°æ®é›†çš„å¢é‡æ›´æ–°

---

### 3. é™åºæ’åˆ—çš„å†’æ³¡æ’åºå®ç°

**è§£ç­”ï¼š**

åªéœ€è¦ä¿®æ”¹æ¯”è¾ƒæ¡ä»¶çš„æ–¹å‘å³å¯å®ç°é™åºæ’åˆ—ã€‚

**ä»£ç å®ç°ï¼š**

```cpp
#include <iostream>
#include <vector>
#include <utility>

// é™åºå†’æ³¡æ’åº
void bubbleSortDescending(std::vector<int>& arr) {
    size_t n = arr.size();
    bool swapped;
    
    std::cout << "é™åºæ’åºè¿‡ç¨‹:" << std::endl;
    std::cout << "åˆå§‹æ•°ç»„: ";
    for (int num : arr) std::cout << num << " ";
    std::cout << std::endl;
    
    for (size_t i = 0; i < n - 1; ++i) {
        swapped = false;
        for (size_t j = 0; j < n - i - 1; ++j) {
            // å…³é”®ä¿®æ”¹ï¼šæ”¹å˜æ¯”è¾ƒæ–¹å‘
            if (arr[j] < arr[j + 1]) {
                std::swap(arr[j], arr[j + 1]);
                swapped = true;
            }
        }
        
        // æ‰“å°æ¯è½®ç»“æœ
        std::cout << "ç¬¬" << i + 1 << "è½®: ";
        for (int num : arr) std::cout << num << " ";
        std::cout << std::endl;
        
        if (!swapped) break;
    }
}

// é€šç”¨å†’æ³¡æ’åºå‡½æ•°ï¼Œæ”¯æŒå‡åºå’Œé™åº
void bubbleSort(std::vector<int>& arr, bool ascending = true) {
    size_t n = arr.size();
    bool swapped;
    
    for (size_t i = 0; i < n - 1; ++i) {
        swapped = false;
        for (size_t j = 0; j < n - i - 1; ++j) {
            // æ ¹æ®å‚æ•°å†³å®šæ’åºæ–¹å‘
            bool shouldSwap = ascending ? 
                (arr[j] > arr[j + 1]) : 
                (arr[j] < arr[j + 1]);
                
            if (shouldSwap) {
                std::swap(arr[j], arr[j + 1]);
                swapped = true;
            }
        }
        if (!swapped) break;
    }
}

int main() {
    std::vector<int> arr = {5, 1, 4, 2, 8};
    
    // æ–¹æ³•1ï¼šç›´æ¥ä½¿ç”¨é™åºç‰ˆæœ¬
    bubbleSortDescending(arr);
    std::cout << "\næœ€ç»ˆé™åºç»“æœ: ";
    for (int num : arr) std::cout << num << " ";
    std::cout << std::endl;
    
    // æ–¹æ³•2ï¼šä½¿ç”¨é€šç”¨ç‰ˆæœ¬
    std::vector<int> arr2 = {5, 1, 4, 2, 8};
    bubbleSort(arr2, false); // false è¡¨ç¤ºé™åº
    std::cout << "é€šç”¨ç‰ˆæœ¬é™åºç»“æœ: ";
    for (int num : arr2) std::cout << num << " ";
    std::cout << std::endl;
    
    return 0;
}
```

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
é™åºæ’åºè¿‡ç¨‹:
åˆå§‹æ•°ç»„: 5 1 4 2 8 
ç¬¬1è½®: 5 4 2 8 1 
ç¬¬2è½®: 5 4 8 2 1 
ç¬¬3è½®: 5 8 4 2 1 
ç¬¬4è½®: 8 5 4 2 1 

æœ€ç»ˆé™åºç»“æœ: 8 5 4 2 1 
é€šç”¨ç‰ˆæœ¬é™åºç»“æœ: 8 5 4 2 1 
```

**å…³é”®ä¿®æ”¹ç‚¹ï¼š**
```cpp
// å‡åºï¼šå¯»æ‰¾è¾ƒå¤§çš„å…ƒç´ å¾€åå†’æ³¡
if (arr[j] > arr[j + 1])

// é™åºï¼šå¯»æ‰¾è¾ƒå°çš„å…ƒç´ å¾€åå†’æ³¡  
if (arr[j] < arr[j + 1])
```

---

## ğŸ’¡ æ‰©å±•æ€è€ƒ

### 4. å†’æ³¡æ’åºåœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨

è™½ç„¶å†’æ³¡æ’åºåœ¨å¤§æ•°æ®åœºæ™¯ä¸‹æ•ˆç‡ä¸é«˜ï¼Œä½†åœ¨ä»¥ä¸‹åœºæ™¯ä»æœ‰ä»·å€¼ï¼š

```cpp
// åœºæ™¯1ï¼šå°å‹æ•°æ®é›†ï¼ˆ< 50ä¸ªå…ƒç´ ï¼‰
void sortSmallDataset() {
    std::vector<int> smallData = {3, 1, 4, 1, 5, 9, 2, 6};
    
    // å¯¹äºå°æ•°æ®ï¼Œä»£ç ç®€å•æ¯”å¾®ç§’çº§æ€§èƒ½æ›´é‡è¦
    bubbleSort(smallData);
}

// åœºæ™¯2ï¼šæ•™å­¦å’Œç®—æ³•æ¼”ç¤º
void educationalExample() {
    std::vector<int> demo = {64, 34, 25, 12, 22, 11, 90};
    
    std::cout << "å†’æ³¡æ’åºæ•™å­¦æ¼”ç¤º:" << std::endl;
    bubbleSortWithVisualization(demo);
}

// åœºæ™¯3ï¼šå‡ ä¹æœ‰åºæ•°æ®çš„ç»´æŠ¤
void maintainNearlySorted() {
    std::vector<int> nearlySorted = getNearlySortedData();
    
    // æ–°å¢å°‘é‡å…ƒç´ åé‡æ–°æ’åº
    nearlySorted.push_back(newElement);
    bubbleSort(nearlySorted); // æ•ˆç‡æ¥è¿‘O(n)
}
```

### 5. æ€§èƒ½å¯¹æ¯”å®éªŒ

```cpp
#include <iostream>
#include <vector>
#include <chrono>
#include <algorithm>

void comparePerformance() {
    std::vector<int> data(1000);
    
    // ç”Ÿæˆæµ‹è¯•æ•°æ®
    for (int i = 0; i < 1000; ++i) {
        data[i] = rand() % 1000;
    }
    
    // å¤åˆ¶æ•°æ®ç”¨äºä¸åŒç®—æ³•
    auto data1 = data;
    auto data2 = data;
    
    // æµ‹è¯•å†’æ³¡æ’åº
    auto start = std::chrono::high_resolution_clock::now();
    bubbleSort(data1);
    auto end = std::chrono::high_resolution_clock::now();
    auto bubbleTime = std::chrono::duration_cast<std::chrono::microseconds>(end - start);
    
    // æµ‹è¯•STLæ’åº
    start = std::chrono::high_resolution_clock::now();
    std::sort(data2.begin(), data2.end());
    end = std::chrono::high_resolution_clock::now();
    auto stlTime = std::chrono::duration_cast<std::chrono::microseconds>(end - start);
    
    std::cout << "æ€§èƒ½å¯¹æ¯” (1000ä¸ªå…ƒç´ ):" << std::endl;
    std::cout << "å†’æ³¡æ’åº: " << bubbleTime.count() << " å¾®ç§’" << std::endl;
    std::cout << "STLæ’åº: " << stlTime.count() << " å¾®ç§’" << std::endl;
    std::cout << "é€Ÿåº¦å·®å¼‚: " << (double)bubbleTime.count() / stlTime.count() << " å€" << std::endl;
}
```

---

## ğŸ¯ æ€»ç»“

é€šè¿‡è¿™ä¸‰ä¸ªæ€è€ƒé¢˜çš„æ·±å…¥åˆ†æï¼Œæˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹é‡è¦è®¤çŸ¥ï¼š

1. **å¤æ‚åº¦è®¤çŸ¥**ï¼š$O(n^2)$ ç®—æ³•åœ¨å¤§è§„æ¨¡æ•°æ®ä¸‹æ€§èƒ½æ€¥å‰§ä¸‹é™
2. **é€‚ç”¨åœºæ™¯**ï¼šå†’æ³¡æ’åºåœ¨æ¥è¿‘æœ‰åºçš„å°æ•°æ®é›†ä¸­æœ‰ç‹¬ç‰¹ä¼˜åŠ¿
3. **ç®—æ³•çµæ´»æ€§**ï¼šé€šè¿‡ç®€å•ä¿®æ”¹æ¯”è¾ƒé€»è¾‘å¯å®ç°ä¸åŒæ’åºéœ€æ±‚
4. **å·¥ç¨‹æ€ç»´**ï¼šç†è§£ç®—æ³•ä¸ä»…è¦æ‡‚åŸç†ï¼Œæ›´è¦æ˜ç™½å®é™…åº”ç”¨åœºæ™¯

å†’æ³¡æ’åºä½œä¸ºç®—æ³•å­¦ä¹ çš„"Hello World"ï¼Œæ•™ä¼šæˆ‘ä»¬çš„ä¸ä»…æ˜¯æ’åºæœ¬èº«ï¼Œæ›´æ˜¯**ç®—æ³•æ€ç»´çš„èµ·ç‚¹**â€”â€”å¦‚ä½•åˆ†æé—®é¢˜ã€ä¼˜åŒ–æ–¹æ¡ˆã€ç†è§£è¾¹ç•Œæ¡ä»¶ã€‚