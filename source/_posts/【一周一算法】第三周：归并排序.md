title: ã€ä¸€å‘¨ä¸€ç®—æ³•ã€‘ç¬¬ä¸‰å‘¨ï¼šå½’å¹¶æ’åº
author: è¿æ€é‘«
tags:
  - ç®—æ³•
  - C++
  - å½’å¹¶æ’åº
categories:
  - ä¸€å‘¨ä¸€ç®—æ³•
date: 2025-11-02 15:35:00
---
# ğŸ§® ä¸€å‘¨ä¸€ä¸ªç®—æ³• Â· ç¬¬ 3 å‘¨

## **å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰â€”â€”åˆ†æ²»æ€æƒ³çš„ç¬¬ä¸€æ¬¡ç™»åœº**

> "Divide and Conquer" â€”â€” åˆ†è€Œæ²»ä¹‹ï¼Œç®—æ³•çš„çµé­‚ã€‚
> å½’å¹¶æ’åºä¸ä»…æ˜¯é«˜æ•ˆæ’åºç®—æ³•çš„ä»£è¡¨ï¼Œæ›´æ˜¯ç†è§£**é€’å½’ã€å¤æ‚åº¦åˆ†æä¸ç®—æ³•åˆ†å±‚ç»“æ„**çš„æœ€ä½³å…¥å£ã€‚

---

## ğŸ§­ ä¸€ã€å¼•è¨€ï¼šå¦‚ä½•è®©"æ’åº"å¹¶è¡Œèµ·æ¥ï¼Ÿ

å‡è®¾ä½ è¦ç»™ä¸€å‰¯ 1000 å¼ çš„æ‰‘å…‹ç‰Œæ’åºã€‚
æœ€ç›´è§‚çš„æƒ³æ³•æ˜¯ä¸€ä¸ªäººä»å¤´åˆ°å°¾æ…¢æ…¢æ’å¥½ï¼ˆå†’æ³¡/æ’å…¥ï¼‰ã€‚
ä½†å¦‚æœä½ æŠŠ 1000 å¼ ç‰Œåˆ†æˆ 4 ä»½ï¼Œå››ä¸ªäººåŒæ—¶å„è‡ªæ’å¥½ï¼Œå†åˆå¹¶å‘¢ï¼Ÿ

âœ… æ¯äººå·¥ä½œé‡å˜å°‘ï¼›
âœ… æœ€ååªéœ€**åˆå¹¶**å››ä»½æœ‰åºç‰Œï¼›
âœ… è¿™å°±æ˜¯å½’å¹¶æ’åºçš„æ ¸å¿ƒæ€æƒ³ï¼š

> **Divideï¼ˆåˆ’åˆ†ï¼‰ â†’ Conquerï¼ˆè§£å†³ï¼‰ â†’ Combineï¼ˆåˆå¹¶ï¼‰**

---

## ğŸ§© äºŒã€ç®—æ³•æ€æƒ³

### ğŸŒ± æ€æƒ³æ¦‚æ‹¬ï¼š

1. å°†æ•°ç»„ä¸€åˆ†ä¸ºäºŒï¼›
2. å¯¹å·¦å³ä¸¤éƒ¨åˆ†åˆ†åˆ«é€’å½’æ’åºï¼›
3. å°†ä¸¤ä¸ªæœ‰åºå­æ•°ç»„**åˆå¹¶**ä¸ºä¸€ä¸ªæ–°çš„æœ‰åºæ•°ç»„ã€‚

### å›¾ç¤ºè¯´æ˜ï¼š

```
åŸæ•°ç»„: [38, 27, 43, 3, 9, 82, 10]

åˆ†è§£:
[38, 27, 43, 3]       [9, 82, 10]
   â†“                      â†“
[38, 27] [43, 3]      [9, 82] [10]
   â†“        â†“           â†“       â†“
[27, 38] [3, 43]      [9, 82] [10]
   â†“        â†“           â†“       â†“
   [3, 27, 38, 43]     [9, 10, 82]
         â†“                â†“
     [3, 9, 10, 27, 38, 43, 82]
```

---

## âš™ï¸ ä¸‰ã€ä¼ªä»£ç 

```text
procedure MergeSort(A, left, right):
    if left >= right:
        return
    mid â† (left + right) / 2
    MergeSort(A, left, mid)
    MergeSort(A, mid + 1, right)
    Merge(A, left, mid, right)
```

---

### ğŸ”§ åˆå¹¶ï¼ˆMergeï¼‰æ“ä½œ

å°†ä¸¤ä¸ªæœ‰åºå­æ•°ç»„ `[left..mid]` å’Œ `[mid+1..right]` åˆå¹¶æˆä¸€ä¸ªæ–°çš„æœ‰åºæ•°ç»„ã€‚

```text
procedure Merge(A, left, mid, right):
    L â† A[left..mid]
    R â† A[mid+1..right]
    i â† 0, j â† 0, k â† left
    while i < len(L) and j < len(R):
        if L[i] â‰¤ R[j]:
            A[k] â† L[i]; i â† i + 1
        else:
            A[k] â† R[j]; j â† j + 1
        k â† k + 1
    // æ‹·è´å‰©ä½™å…ƒç´ 
    while i < len(L): A[k++] â† L[i++]
    while j < len(R): A[k++] â† R[j++]
```

---

## ğŸ’» å››ã€C++ å®ç°

```cpp
#include <iostream>
#include <vector>

void merge(std::vector<int>& arr, int left, int mid, int right) {
    int n1 = mid - left + 1;
    int n2 = right - mid;

    std::vector<int> L(n1), R(n2);

    for (int i = 0; i < n1; ++i)
        L[i] = arr[left + i];
    for (int j = 0; j < n2; ++j)
        R[j] = arr[mid + 1 + j];

    int i = 0, j = 0, k = left;

    while (i < n1 && j < n2) {
        if (L[i] <= R[j]) {
            arr[k++] = L[i++];
        } else {
            arr[k++] = R[j++];
        }
    }

    while (i < n1) arr[k++] = L[i++];
    while (j < n2) arr[k++] = R[j++];
}

void mergeSort(std::vector<int>& arr, int left, int right) {
    if (left >= right) return;

    int mid = left + (right - left) / 2;
    mergeSort(arr, left, mid);
    mergeSort(arr, mid + 1, right);
    merge(arr, left, mid, right);
}

int main() {
    std::vector<int> arr = {38, 27, 43, 3, 9, 82, 10};
    mergeSort(arr, 0, arr.size() - 1);

    std::cout << "æ’åºç»“æœï¼š";
    for (int num : arr) std::cout << num << " ";
    std::cout << std::endl;
}
```

è¾“å‡ºï¼š

```
æ’åºç»“æœï¼š3 9 10 27 38 43 82
```

---

## ğŸ“ˆ äº”ã€å¤æ‚åº¦åˆ†æï¼ˆæ•°å­¦è§†è§’ï¼‰

### 1ï¸âƒ£ æ—¶é—´å¤æ‚åº¦ï¼ˆé€’å½’å…³ç³»å¼ï¼‰

å½’å¹¶æ’åºçš„è¿è¡Œæ—¶é—´æ»¡è¶³ï¼š
$$
T(n) = 2T\left(\frac{n}{2}\right) + O(n)
$$
è§£é‡Šï¼š

* $2T(n/2)$ï¼šé€’å½’ä¸¤æ¬¡å¤„ç†å­æ•°ç»„ï¼›
* $O(n)$ï¼šåˆå¹¶æ“ä½œã€‚

ä½¿ç”¨ **ä¸»å®šç†ï¼ˆMaster Theoremï¼‰**ï¼š

$$
T(n) = aT(n/b) + f(n)
$$
å…¶ä¸­ $a = 2$, $b = 2$, $f(n) = n$

ç”±äº $n^{\log_b a} = n^{\log_2 2} = n^1$ï¼Œ
ä¸” $f(n) = O(n)$ï¼Œ
æ»¡è¶³ç¬¬äºŒç§æƒ…å†µï¼š

$$
T(n) = O(n \log n)
$$

âœ… æœ€ç»ˆç»“æœï¼š
$$
T(n) = O(n \log n)
$$

---

### 2ï¸âƒ£ ç©ºé—´å¤æ‚åº¦

éœ€è¦é¢å¤–æ•°ç»„å­˜æ”¾ä¸´æ—¶åˆå¹¶ç»“æœï¼š
$$
S(n) = O(n)
$$

---

### 3ï¸âƒ£ ç¨³å®šæ€§åˆ†æ

âœ… ç¨³å®šï¼šå½“ $L[i] = R[j]$ æ—¶ä¼˜å…ˆæ‹·è´å·¦ä¾§å…ƒç´ ã€‚

---

## ğŸ”¢ å…­ã€æ•°å­¦æ·±å…¥ï¼šä¸ºä»€ä¹ˆæ˜¯ $O(n \log n)$ï¼Ÿ

æˆ‘ä»¬ä»é€’å½’æ ‘è§’åº¦ç†è§£ï¼š

æ¯ä¸€å±‚çš„åˆå¹¶ä»£ä»·éƒ½æ˜¯ **n**ï¼š

```
ç¬¬0å±‚ï¼š1ä¸ªå­é—®é¢˜ï¼Œå¤§å°n â†’ ä»£ä»· n
ç¬¬1å±‚ï¼š2ä¸ªå­é—®é¢˜ï¼Œå¤§å°n/2 â†’ ä»£ä»· 2*(n/2) = n
ç¬¬2å±‚ï¼š4ä¸ªå­é—®é¢˜ï¼Œå¤§å°n/4 â†’ ä»£ä»· 4*(n/4) = n
...
æ€»å±‚æ•° â‰ˆ logâ‚‚n
```

æ€»ä»£ä»·ï¼š
$$
n + n + n + \cdots + n = n \log_2 n
$$
å› æ­¤ï¼š
$$
T(n) = O(n \log n)
$$

---

## ğŸš€ ä¸ƒã€å·¥ç¨‹ç‰¹æ€§ä¸å®è·µä¼˜åŒ–

| ä¼˜åŒ–æ–¹å‘           | æ€æƒ³                  | æ•ˆæœ            |
| -------------- | ------------------- | ------------- |
| **å°åŒºé—´æ”¹ç”¨æ’å…¥æ’åº**  | å½“å­æ•°ç»„é•¿åº¦ < 16ï¼Œç”¨æ’å…¥æ’åºæ›´å¿« | CPU Cacheå‹å¥½   |
| **åŸåœ°åˆå¹¶ä¼˜åŒ–**     | é¿å…ä¸´æ—¶æ•°ç»„              | å‡å°‘ç©ºé—´å¼€é”€ï¼ˆä½†å®ç°å¤æ‚ï¼‰ |
| **å¤šçº¿ç¨‹å½’å¹¶**      | ä¸¤ä¸ªå­é—®é¢˜å¹¶è¡Œ             | å¤§å¹…æé«˜å¤šæ ¸æ€§èƒ½      |
| **å¤–éƒ¨æ’åºï¼ˆç£ç›˜å½’å¹¶ï¼‰** | é€‚åˆå¤§æ•°æ®é›†              | I/O ä¼˜åŒ–        |

---

## ğŸ§  å…«ã€æ€è€ƒä¸ç»ƒä¹ 

1. ä¸ºä»€ä¹ˆå½’å¹¶æ’åºåœ¨é“¾è¡¨æ’åºä¸­è¡¨ç°éå¸¸ä¼˜ï¼Ÿ
   ï¼ˆæç¤ºï¼šåˆå¹¶é“¾è¡¨å¯ä»¥ $O(1)$ æ“ä½œï¼Œæ— éœ€ç§»åŠ¨å†…å­˜ï¼‰

2. è‹¥æ•°ç»„é•¿åº¦æ˜¯ 1024ï¼Œé€’å½’æ·±åº¦æ˜¯å¤šå°‘ï¼Ÿ
   ï¼ˆæç¤ºï¼š$\log_2 1024 = 10$ï¼‰

3. è¯·å°è¯•å®ç° **è¿­ä»£ç‰ˆï¼ˆéé€’å½’ç‰ˆï¼‰** å½’å¹¶æ’åºã€‚

4. ä½ èƒ½åœ¨ `merge()` å‡½æ•°ä¸­åªç”¨ä¸€ä¸ªç¼“å†²åŒºå®Œæˆå·¦å³åˆå¹¶å—ï¼Ÿ

---

## ğŸŒ± ä¹ã€å»¶ä¼¸é˜…è¯»

* ã€Šç®—æ³•å¯¼è®ºã€‹ç¬¬ 2.3 ç« ï¼šå½’å¹¶æ’åº
* ã€Šè®¡ç®—æœºç¨‹åºè®¾è®¡è‰ºæœ¯ï¼ˆTAOCPï¼‰ã€‹å· 3 Â§5.2.4
* LeetCode æ¨èé¢˜ç›®ï¼š

  * [#148. Sort List](https://leetcode.com/problems/sort-list/)ï¼ˆé“¾è¡¨å½’å¹¶æ’åºï¼‰
  * [#912. Sort an Array](https://leetcode.com/problems/sort-an-array/)

---

## âœ¨ åã€æ€»ç»“

| æŒ‡æ ‡         | è¯´æ˜            |
| ---------- | ------------- |
| **æ—¶é—´å¤æ‚åº¦**  | $O(n \log n)$ |
| **ç©ºé—´å¤æ‚åº¦**  | $O(n)$        |
| **ç¨³å®šæ€§**    | âœ… ç¨³å®š          |
| **æ˜¯å¦åŸåœ°æ’åº** | âŒ å¦ï¼ˆéœ€è¾…åŠ©æ•°ç»„ï¼‰  |
| **é€‚ç”¨åœºæ™¯**   | å¤§æ•°æ®ã€é“¾è¡¨æ’åºã€å¤–éƒ¨æ’åº |

> "å½’å¹¶æ’åºæ˜¯ç®—æ³•çš„ç¬¬ä¸€æ¬¡å“²å­¦æ€è€ƒâ€”â€”
> æŠŠé—®é¢˜æ‹†åˆ†æˆèƒ½è§£å†³çš„å°é—®é¢˜ï¼Œå†ç»„åˆå›ç­”æ¡ˆã€‚"

---

ğŸ”œ **ä¸‹å‘¨é¢„å‘Šï¼ˆç¬¬ 4 å‘¨ï¼‰**

> **å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰â€”â€”"åˆ†æ²»"é‡ä¸Š"éšæœº"**
> æˆ‘ä»¬å°†çœ‹åˆ°ï¼šç›¸åŒçš„åˆ†æ²»æ€æƒ³ï¼Œå¦‚ä½•åœ¨"æœŸæœ›å¤æ‚åº¦ $O(n \log n)$"ä¸­è·‘å¾—æ›´å¿«ã€‚

---